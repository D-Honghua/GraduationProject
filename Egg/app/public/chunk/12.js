(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"114":function(e,t,a){"use strict";var n=a(29);t.a={"get":function get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.getStorageSync)("userInfo");return new Promise((function(o,c){!t.user&&(t.user=a.user),Object(n.request)({"url":"".concat("/api").concat(e),"method":"GET","data":t,"success":function success(e){var t=e.data,a=t.code,c=t.data,s=t.msg;200!==a?Object(n.showToast)({"title":s,"icon":"none"}):o(c)},"fail":function fail(e){Object(n.showToast)({"title":"net error!!","icon":"none"}),c(e)}})}))},"post":function post(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.getStorageSync)("userInfo");return new Promise((function(o,c){!t.user&&(t.user=a.user),Object(n.request)({"url":"".concat("/api").concat(e),"method":"POST","data":t,"success":function success(e){var t=e.data,a=t.code,c=t.data,s=t.msg;200!==a?Object(n.showToast)({"title":s,"icon":"none"}):o(c)},"fail":function fail(e){Object(n.showToast)({"title":"net error!!","icon":"none"}),c(e)}})}))}}},"282":function(e,t,a){},"290":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(17),o=a.n(n),c=a(24),s=a(3),i=a(4),r=a(10),l=a(9),u=a(15),h=a.n(u),m=a(108),f=(a(282),a(115)),b=a(29),p=a(114),d=function(e){Object(r.a)(Clock,e);var t,a=Object(l.a)(Clock);function Clock(){var e;return Object(s.a)(this,Clock),(e=a.call(this)).state={"form":{"name":"","sex":"boy","phone":"","place":"","temp":"","healthy":["无异常状况"]}},e.checkboxOption=[{"value":"无异常状况","label":"无异常状况"},{"value":"感冒，乏力，头痛","label":"感冒，乏力，头痛"},{"value":"发烧发热","label":"发烧发热"},{"value":"其它","label":"其它"}],e}return Object(i.a)(Clock,[{"key":"componentWillMount","value":function componentWillMount(){}},{"key":"handleChange","value":function handleChange(e,t){var a=this.state.form;a[e]=t,this.setState({"form":a})}},{"key":"onSubmit","value":(t=Object(c.a)(o.a.mark((function _callee(){var e=this;return o.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(Object.keys(this.state.form).every((function(t){return!(e.state.form[t]instanceof Array&&!e.state.form[t].length||!e.state.form[t])}))){t.next=4;break}return Object(b.showToast)({"title":"请将信息补充完整！","icon":"none"}),t.abrupt("return");case 4:return console.log(this.state.form),t.next=7,p.a.post("/clock",this.state.form);case 7:t.sent&&Object(b.showToast)({"title":"打卡成功！","complete":function complete(){setTimeout((function(){b.default.navigateBack()}),2e3)}});case 9:case"end":return t.stop()}}),_callee,this)}))),function onSubmit(){return t.apply(this,arguments)})},{"key":"checkboxChange","value":function checkboxChange(e){console.log(e);var t=this.state.form;t.healthy=e,this.setState({"form":t})}},{"key":"render","value":function render(){return h.a.createElement(m.View,{"className":"page-wrap"},h.a.createElement(m.View,{"className":"page-title"},"疫情上报"),h.a.createElement(m.View,{"className":"form-box"},h.a.createElement(f.g,{"onSubmit":this.onSubmit.bind(this)},h.a.createElement(f.h,{"name":"name","title":"姓名","required":!0,"type":"text","value":this.state.form.name,"onChange":this.handleChange.bind(this,"name")}),h.a.createElement(f.k,{"options":[{"label":"男","value":"boy"},{"label":"女","value":"girl"}],"required":!0,"value":this.state.form.sex,"onClick":this.handleChange.bind(this,"sex")}),h.a.createElement(f.h,{"name":"phone","title":"电话","required":!0,"type":"text","value":this.state.form.phonee,"onChange":this.handleChange.bind(this,"phone")}),h.a.createElement(f.h,{"name":"place","title":"现居住地","type":"text","required":!0,"value":this.state.form.place,"onChange":this.handleChange.bind(this,"place")}),h.a.createElement(f.h,{"name":"temp","title":"体温","type":"text","required":!0,"value":this.state.form.temp,"onChange":this.handleChange.bind(this,"temp")}),h.a.createElement(m.View,{"className":"ctitle"},"健康状况"),h.a.createElement(f.e,{"options":this.checkboxOption,"selectedList":this.state.form.healthy,"required":!0,"onChange":this.checkboxChange.bind(this)}),h.a.createElement(f.b,{"className":"btn","formType":"submit"},"提交"))))}}]),Clock}(u.Component)}}]);